<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Online Prediction by ExpeRt Aggregation — opera-package • opera</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Online Prediction by ExpeRt Aggregation — opera-package"><meta property="og:description" content="The package opera performs, for regression-oriented time-series,
predictions by combining a finite set of forecasts provided by the user.
More formally, it considers a sequence of observations Y (such as
electricity consumption, or any bounded time series) to be predicted step
by step. At each time instance t, a finite set of experts
(basicly some based forecasters) provide predictions x of the next
observation in y. This package proposes several adaptive and robust
methods to combine the expert forecasts based on their past performance."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/amcharts-3.21.13/amcharts.js"></script><script src="libs/ramcharts_base-binding-2.1.13/ramcharts_base.js"></script><script src="libs/amcharts_type_serial-3.20.18/serial.js"></script><link href="libs/amcharts_export-3.20.18/export.css" rel="stylesheet"><script src="libs/amcharts_export-3.20.18/export.min.js"></script><script src="libs/amcharts_export_blob-3.20.18/blob.js"></script><script src="libs/amcharts_export_fabric-3.20.18/fabric.min.js"></script><script src="libs/amcharts_export_filesaver-3.20.18/FileSaver.min.js"></script><script src="libs/amcharts_export_jszip-3.20.18/jszip.min.js"></script><script src="libs/amcharts_export_pdfmake-3.20.18/pdfmake.js"></script><script src="libs/amcharts_export_pdfmake_font-3.20.18/vfs_fonts.js"></script><script src="libs/amcharts_export_xlsx-3.20.18/xlsx.min.js"></script><script src="libs/amcharts_classList-3.20.18/classList.min.js"></script><script src="libs/amcharts_themes_light.js-3.20.18/light.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">opera</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/opera-vignette.html">`opera` package</a>
    </li>
    <li>
      <a href="../articles/regional_forecasting.html">Hierarchical Forecasting with Opera</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dralliag/opera/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Online Prediction by ExpeRt Aggregation</h1>
    <small class="dont-index">Source: <a href="https://github.com/dralliag/opera/blob/HEAD/R/opera-package.R" class="external-link"><code>R/opera-package.R</code></a></small>
    <div class="hidden name"><code>opera-package.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The package <code>opera</code> performs, for regression-oriented time-series,
predictions by combining a finite set of forecasts provided by the user.
More formally, it considers a sequence of observations <code>Y</code> (such as
electricity consumption, or any bounded time series) to be predicted step
by step. At each time instance <code>t</code>, a finite set of experts
(basicly some based forecasters) provide predictions <code>x</code> of the next
observation in <code>y</code>. This package proposes several adaptive and robust
methods to combine the expert forecasts based on their past performance.</p>
    </div>


    <div id="references">
    <h2>References</h2>
    <p>Prediction, Learning, and Games. N. Cesa-Bianchi and G. Lugosi.
<br></p>
<p>Forecasting the electricity consumption by aggregating specialized experts;
a review of sequential aggregation of specialized experts, with an
application to Slovakian an French contry-wide one-day-ahead (half-)hourly
predictions, Machine Learning, in press, 2012. Marie Devaine, Pierre
Gaillard, Yannig Goude, and Gilles Stoltz
<br></p> 
<p>Contributions to online robust aggregation: work on the approximation error and on 
probabilistic forecasting. Pierre Gaillard. PhD Thesis, University Paris-Sud, 2015.
<br></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Pierre Gaillard &lt;pierre@gaillard.me&gt;</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="http://pierre.gaillard.me/opera.html" class="external-link">'opera'</a></span><span class="op">)</span>  <span class="co"># load the package</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example: find the best one week ahead forecasting strategy (weekly data)</span></span>
<span class="r-in"><span class="co"># packages</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mgcv</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># import data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">electric_load</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idx_data_test</span> <span class="op">&lt;-</span> <span class="fl">620</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">electric_load</span><span class="op">)</span></span>
<span class="r-in"><span class="va">data_train</span> <span class="op">&lt;-</span> <span class="va">electric_load</span><span class="op">[</span><span class="op">-</span><span class="va">idx_data_test</span>, <span class="op">]</span></span>
<span class="r-in"><span class="va">data_test</span> <span class="op">&lt;-</span> <span class="va">electric_load</span><span class="op">[</span><span class="va">idx_data_test</span>, <span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Build the expert forecasts </span></span>
<span class="r-in"><span class="co"># ##########################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 1) A generalized additive model</span></span>
<span class="r-in"><span class="va">gam.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></span><span class="op">(</span><span class="va">Load</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">IPI</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">Temp</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">Time</span>, k<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span> </span>
<span class="r-in">                 <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">Load1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">NumWeek</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">data_train</span><span class="op">)</span></span>
<span class="r-in"><span class="va">gam.forecast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">gam.fit</span>, newdata <span class="op">=</span> <span class="va">data_test</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 2) An online autoregressive model on the residuals of a medium term model</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Medium term model to remove trend and seasonality (using generalized additive model)</span></span>
<span class="r-in"><span class="va">detrend.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></span><span class="op">(</span><span class="va">Load</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">Time</span>,k<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">NumWeek</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">Temp</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">IPI</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">data_train</span><span class="op">)</span></span>
<span class="r-in"><span class="va">electric_load</span><span class="op">$</span><span class="va">Trend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">detrend.fit</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">detrend.fit</span>,newdata <span class="op">=</span> <span class="va">data_test</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">electric_load</span><span class="op">$</span><span class="va">Load.detrend</span> <span class="op">&lt;-</span> <span class="va">electric_load</span><span class="op">$</span><span class="va">Load</span> <span class="op">-</span> <span class="va">electric_load</span><span class="op">$</span><span class="va">Trend</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Residual analysis</span></span>
<span class="r-in"><span class="va">ar.forecast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">idx_data_test</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">idx_data_test</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="va">ar.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ar.html" class="external-link">ar</a></span><span class="op">(</span><span class="va">electric_load</span><span class="op">$</span><span class="va">Load.detrend</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">idx_data_test</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">ar.forecast</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">ar.fit</span><span class="op">)</span><span class="op">$</span><span class="va">pred</span><span class="op">)</span> <span class="op">+</span> <span class="va">electric_load</span><span class="op">$</span><span class="va">Trend</span><span class="op">[</span><span class="va">idx_data_test</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Aggregation of experts</span></span>
<span class="r-in"><span class="co">###########################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">gam.forecast</span>, <span class="va">ar.forecast</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'gam'</span>, <span class="st">'ar'</span><span class="op">)</span></span>
<span class="r-in"><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">data_test</span><span class="op">$</span><span class="va">Load</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Y</span>, <span class="va">X</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">'l'</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, ylab <span class="op">=</span> <span class="st">'Weekly load'</span>, xlab <span class="op">=</span> <span class="st">'Week'</span><span class="op">)</span></span>
<span class="r-plt img"><img src="opera-package-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># How good are the expert? Look at the oracles</span></span>
<span class="r-in"><span class="va">oracle.convex</span> <span class="op">&lt;-</span> <span class="fu"><a href="oracle.html">oracle</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">Y</span>, experts <span class="op">=</span> <span class="va">X</span>, loss.type <span class="op">=</span> <span class="st">'square'</span>, model <span class="op">=</span> <span class="st">'convex'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">oracle.convex</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in x$width %||% settings$fig.width * settings$dpi:</span> non-numeric argument to binary operator</span>
<span class="r-in"><span class="va">oracle.convex</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> oracle.default(Y = Y, experts = X, model = "convex", loss.type = "square")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gam    ar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.751 0.249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       rmse   mape</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best expert oracle:   1480 0.0202</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniform combination:  1480 0.0206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best convex oracle:   1450 0.0200</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Is a single expert the best over time ? Are there breaks ?</span></span>
<span class="r-in"><span class="va">oracle.shift</span> <span class="op">&lt;-</span> <span class="fu"><a href="oracle.html">oracle</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">Y</span>, experts <span class="op">=</span> <span class="va">X</span>, loss.type <span class="op">=</span> <span class="st">'percentage'</span>, model <span class="op">=</span> <span class="st">'shifting'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">oracle.shift</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in x$width %||% settings$fig.width * settings$dpi:</span> non-numeric argument to binary operator</span>
<span class="r-in"><span class="va">oracle.shift</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> oracle.default(Y = Y, experts = X, model = "shifting", loss.type = "percentage")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 shifts 28 shifts 55 shifts 83 shifts 111 shifts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mape:   0.0202    0.0159    0.0154    0.0154     0.0154</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Online aggregation of the experts with BOA</span></span>
<span class="r-in"><span class="co">#############################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Initialize the aggregation rule</span></span>
<span class="r-in"><span class="va">m0.BOA</span> <span class="op">&lt;-</span> <span class="fu"><a href="mixture-opera.html">mixture</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">'BOA'</span>, loss.type <span class="op">=</span> <span class="st">'square'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Perform online prediction using BOA There are 3 equivalent possibilities 1)</span></span>
<span class="r-in"><span class="co"># start with an empty model and update the model sequentially</span></span>
<span class="r-in"><span class="va">m1.BOA</span> <span class="op">&lt;-</span> <span class="va">m0.BOA</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="va">m1.BOA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">m1.BOA</span>, newexperts <span class="op">=</span> <span class="va">X</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span>, newY <span class="op">=</span> <span class="va">Y</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 2) perform online prediction directly from the empty model</span></span>
<span class="r-in"><span class="va">m2.BOA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">m0.BOA</span>, newexpert <span class="op">=</span> <span class="va">X</span>, newY <span class="op">=</span> <span class="va">Y</span>, online <span class="op">=</span> <span class="cn">TRUE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 3) perform the online aggregation directly</span></span>
<span class="r-in"><span class="va">m3.BOA</span> <span class="op">&lt;-</span> <span class="fu"><a href="mixture-opera.html">mixture</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">Y</span>, experts <span class="op">=</span> <span class="va">X</span>, model <span class="op">=</span> <span class="st">'BOA'</span>, loss.type <span class="op">=</span> <span class="st">'square'</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># These predictions are equivalent:</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">m1.BOA</span>, <span class="va">m2.BOA</span><span class="op">)</span>  <span class="co"># TRUE</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">m1.BOA</span>, <span class="va">m3.BOA</span><span class="op">)</span>  <span class="co"># TRUE</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Display the results</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m3.BOA</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aggregation rule: BOA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Loss function:  squareloss </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gradient trick:  TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gam    ar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.795 0.205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of experts:  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of observations:  112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension of the data:  1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         rmse   mape</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BOA     1480 0.0203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniform 1480 0.0206</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">m1.BOA</span><span class="op">)</span></span>
<div id="htmlwidget-812c9115cde5c072f267" style="width:100%;height:300px;" class="ramcharts_base html-widget"></div>
<script type="application/json" data-for="htmlwidget-812c9115cde5c072f267">{"x":{"chartData":{"thousandsSeparator":" ","precision":3,"export":{"enabled":true,"position":"top-right"},"zoomOutButtonImageSize":0,"categoryField":"timestamp","chartCursor":{"animationDuration":0.3},"creditsPosition":"bottom-right","dataProvider":[{"timestamp":1,"ar":0.5,"gam":1,"ar.1":0.5,"gam.1":0.5},{"timestamp":2,"ar":0.733181913641683,"gam":1,"ar.1":0.733,"gam.1":0.267},{"timestamp":3,"ar":0.542149157938267,"gam":1,"ar.1":0.542,"gam.1":0.458},{"timestamp":4,"ar":0.552260398526096,"gam":1,"ar.1":0.552,"gam.1":0.448},{"timestamp":5,"ar":0.475646071738798,"gam":1,"ar.1":0.476,"gam.1":0.524},{"timestamp":6,"ar":0.508653302769735,"gam":1,"ar.1":0.509,"gam.1":0.491},{"timestamp":7,"ar":0.285628646318653,"gam":1,"ar.1":0.286,"gam.1":0.714},{"timestamp":8,"ar":0.297849803442079,"gam":1,"ar.1":0.298,"gam.1":0.702},{"timestamp":9,"ar":0.328680523897199,"gam":1,"ar.1":0.329,"gam.1":0.671},{"timestamp":10,"ar":0.327240048461416,"gam":1,"ar.1":0.327,"gam.1":0.673},{"timestamp":11,"ar":0.332302862194095,"gam":1,"ar.1":0.332,"gam.1":0.668},{"timestamp":12,"ar":0.302344224417662,"gam":1,"ar.1":0.302,"gam.1":0.698},{"timestamp":13,"ar":0.310089773465185,"gam":1,"ar.1":0.31,"gam.1":0.69},{"timestamp":14,"ar":0.311175544929438,"gam":1,"ar.1":0.311,"gam.1":0.689},{"timestamp":15,"ar":0.297443567028715,"gam":1,"ar.1":0.297,"gam.1":0.703},{"timestamp":16,"ar":0.316114632265665,"gam":1,"ar.1":0.316,"gam.1":0.684},{"timestamp":17,"ar":0.315996028602174,"gam":1,"ar.1":0.316,"gam.1":0.684},{"timestamp":18,"ar":0.343080789233233,"gam":1,"ar.1":0.343,"gam.1":0.657},{"timestamp":19,"ar":0.331313408739,"gam":1,"ar.1":0.331,"gam.1":0.669},{"timestamp":20,"ar":0.35870846104974,"gam":1,"ar.1":0.359,"gam.1":0.641},{"timestamp":21,"ar":0.337937663677425,"gam":1,"ar.1":0.338,"gam.1":0.662},{"timestamp":22,"ar":0.317261566479154,"gam":1,"ar.1":0.317,"gam.1":0.683},{"timestamp":23,"ar":0.259714105713758,"gam":1,"ar.1":0.26,"gam.1":0.74},{"timestamp":24,"ar":0.230062239419165,"gam":1,"ar.1":0.23,"gam.1":0.77},{"timestamp":25,"ar":0.227922040758973,"gam":1,"ar.1":0.228,"gam.1":0.772},{"timestamp":26,"ar":0.224680653247659,"gam":1,"ar.1":0.225,"gam.1":0.775},{"timestamp":27,"ar":0.216108266859369,"gam":1,"ar.1":0.216,"gam.1":0.784},{"timestamp":28,"ar":0.218725488721419,"gam":1,"ar.1":0.219,"gam.1":0.781},{"timestamp":29,"ar":0.222838201351389,"gam":1,"ar.1":0.223,"gam.1":0.777},{"timestamp":30,"ar":0.228255242151053,"gam":1,"ar.1":0.228,"gam.1":0.772},{"timestamp":31,"ar":0.228962128117887,"gam":1,"ar.1":0.229,"gam.1":0.771},{"timestamp":32,"ar":0.221600461744765,"gam":1,"ar.1":0.222,"gam.1":0.778},{"timestamp":33,"ar":0.221471910697008,"gam":1,"ar.1":0.221,"gam.1":0.779},{"timestamp":34,"ar":0.221913139078261,"gam":1,"ar.1":0.222,"gam.1":0.778},{"timestamp":35,"ar":0.22233889130472,"gam":1,"ar.1":0.222,"gam.1":0.778},{"timestamp":36,"ar":0.223055813376596,"gam":1,"ar.1":0.223,"gam.1":0.777},{"timestamp":37,"ar":0.224379687708705,"gam":1,"ar.1":0.224,"gam.1":0.776},{"timestamp":38,"ar":0.218731040743752,"gam":1,"ar.1":0.219,"gam.1":0.781},{"timestamp":39,"ar":0.219444587564362,"gam":1,"ar.1":0.219,"gam.1":0.781},{"timestamp":40,"ar":0.222879635528034,"gam":1,"ar.1":0.223,"gam.1":0.777},{"timestamp":41,"ar":0.197095156941159,"gam":1,"ar.1":0.197,"gam.1":0.803},{"timestamp":42,"ar":0.197687808438746,"gam":1,"ar.1":0.198,"gam.1":0.802},{"timestamp":43,"ar":0.186071246786066,"gam":1,"ar.1":0.186,"gam.1":0.814},{"timestamp":44,"ar":0.183623121459728,"gam":1,"ar.1":0.184,"gam.1":0.816},{"timestamp":45,"ar":0.181620946582551,"gam":1,"ar.1":0.182,"gam.1":0.818},{"timestamp":46,"ar":0.176548690031506,"gam":1,"ar.1":0.177,"gam.1":0.823},{"timestamp":47,"ar":0.176508726338779,"gam":1,"ar.1":0.177,"gam.1":0.823},{"timestamp":48,"ar":0.176624780506865,"gam":1,"ar.1":0.177,"gam.1":0.823},{"timestamp":49,"ar":0.173741324824485,"gam":1,"ar.1":0.174,"gam.1":0.826},{"timestamp":50,"ar":0.176876433692586,"gam":1,"ar.1":0.177,"gam.1":0.823},{"timestamp":51,"ar":0.176546500809599,"gam":1,"ar.1":0.177,"gam.1":0.823},{"timestamp":52,"ar":0.175202130677171,"gam":1,"ar.1":0.175,"gam.1":0.825},{"timestamp":53,"ar":0.167235763022425,"gam":1,"ar.1":0.167,"gam.1":0.833},{"timestamp":54,"ar":0.163095841009623,"gam":1,"ar.1":0.163,"gam.1":0.837},{"timestamp":55,"ar":0.163670764574316,"gam":1,"ar.1":0.164,"gam.1":0.836},{"timestamp":56,"ar":0.184046524504751,"gam":1,"ar.1":0.184,"gam.1":0.816},{"timestamp":57,"ar":0.168255086464756,"gam":1,"ar.1":0.168,"gam.1":0.832},{"timestamp":58,"ar":0.15411683607904,"gam":1,"ar.1":0.154,"gam.1":0.846},{"timestamp":59,"ar":0.141692659359073,"gam":1,"ar.1":0.142,"gam.1":0.858},{"timestamp":60,"ar":0.115432504886174,"gam":1,"ar.1":0.115,"gam.1":0.885},{"timestamp":61,"ar":0.132098816964944,"gam":1,"ar.1":0.132,"gam.1":0.868},{"timestamp":62,"ar":0.144504223678644,"gam":1,"ar.1":0.145,"gam.1":0.855},{"timestamp":63,"ar":0.142169222292142,"gam":1,"ar.1":0.142,"gam.1":0.858},{"timestamp":64,"ar":0.143521221727442,"gam":1,"ar.1":0.144,"gam.1":0.856},{"timestamp":65,"ar":0.144559314283802,"gam":1,"ar.1":0.145,"gam.1":0.855},{"timestamp":66,"ar":0.138439871330651,"gam":1,"ar.1":0.138,"gam.1":0.862},{"timestamp":67,"ar":0.1418341148317,"gam":1,"ar.1":0.142,"gam.1":0.858},{"timestamp":68,"ar":0.141812208640463,"gam":1,"ar.1":0.142,"gam.1":0.858},{"timestamp":69,"ar":0.147166681117256,"gam":1,"ar.1":0.147,"gam.1":0.853},{"timestamp":70,"ar":0.148657967691003,"gam":1,"ar.1":0.149,"gam.1":0.851},{"timestamp":71,"ar":0.146921762368059,"gam":1,"ar.1":0.147,"gam.1":0.853},{"timestamp":72,"ar":0.119403228175975,"gam":1,"ar.1":0.119,"gam.1":0.881},{"timestamp":73,"ar":0.119377562515305,"gam":1,"ar.1":0.119,"gam.1":0.881},{"timestamp":74,"ar":0.124275847407787,"gam":1,"ar.1":0.124,"gam.1":0.876},{"timestamp":75,"ar":0.131811783185255,"gam":1,"ar.1":0.132,"gam.1":0.868},{"timestamp":76,"ar":0.134385677424515,"gam":1,"ar.1":0.134,"gam.1":0.866},{"timestamp":77,"ar":0.146321796959497,"gam":1,"ar.1":0.146,"gam.1":0.854},{"timestamp":78,"ar":0.14807425850936,"gam":1,"ar.1":0.148,"gam.1":0.852},{"timestamp":79,"ar":0.16378047450548,"gam":1,"ar.1":0.164,"gam.1":0.836},{"timestamp":80,"ar":0.165452713808102,"gam":1,"ar.1":0.165,"gam.1":0.835},{"timestamp":81,"ar":0.181384790869356,"gam":1,"ar.1":0.181,"gam.1":0.819},{"timestamp":82,"ar":0.194123581773744,"gam":1,"ar.1":0.194,"gam.1":0.806},{"timestamp":83,"ar":0.189342980980755,"gam":1,"ar.1":0.189,"gam.1":0.811},{"timestamp":84,"ar":0.193519639033412,"gam":1,"ar.1":0.194,"gam.1":0.806},{"timestamp":85,"ar":0.196061517057961,"gam":1,"ar.1":0.196,"gam.1":0.804},{"timestamp":86,"ar":0.202432908804165,"gam":1,"ar.1":0.202,"gam.1":0.798},{"timestamp":87,"ar":0.205745773645707,"gam":1,"ar.1":0.206,"gam.1":0.794},{"timestamp":88,"ar":0.204513593742502,"gam":1,"ar.1":0.205,"gam.1":0.795},{"timestamp":89,"ar":0.19448570282893,"gam":1,"ar.1":0.194,"gam.1":0.806},{"timestamp":90,"ar":0.199528756426129,"gam":1,"ar.1":0.2,"gam.1":0.8},{"timestamp":91,"ar":0.192596981636105,"gam":1,"ar.1":0.193,"gam.1":0.807},{"timestamp":92,"ar":0.181588982791042,"gam":1,"ar.1":0.182,"gam.1":0.818},{"timestamp":93,"ar":0.166537614266726,"gam":1,"ar.1":0.167,"gam.1":0.833},{"timestamp":94,"ar":0.167632769359615,"gam":1,"ar.1":0.168,"gam.1":0.832},{"timestamp":95,"ar":0.170308149227704,"gam":1,"ar.1":0.17,"gam.1":0.83},{"timestamp":96,"ar":0.169169608421701,"gam":1,"ar.1":0.169,"gam.1":0.831},{"timestamp":97,"ar":0.168952089872341,"gam":1,"ar.1":0.169,"gam.1":0.831},{"timestamp":98,"ar":0.167442617473848,"gam":1,"ar.1":0.167,"gam.1":0.833},{"timestamp":99,"ar":0.16923348584656,"gam":1,"ar.1":0.169,"gam.1":0.831},{"timestamp":100,"ar":0.168396451599601,"gam":1,"ar.1":0.168,"gam.1":0.832},{"timestamp":101,"ar":0.170744381647092,"gam":1,"ar.1":0.171,"gam.1":0.829},{"timestamp":102,"ar":0.172562338438392,"gam":1,"ar.1":0.173,"gam.1":0.827},{"timestamp":103,"ar":0.168499296731793,"gam":1,"ar.1":0.168,"gam.1":0.832},{"timestamp":104,"ar":0.167377552355424,"gam":1,"ar.1":0.167,"gam.1":0.833},{"timestamp":105,"ar":0.167721778145053,"gam":1,"ar.1":0.168,"gam.1":0.832},{"timestamp":106,"ar":0.168086253946297,"gam":1,"ar.1":0.168,"gam.1":0.832},{"timestamp":107,"ar":0.168579578213377,"gam":1,"ar.1":0.169,"gam.1":0.831},{"timestamp":108,"ar":0.172430549853849,"gam":1,"ar.1":0.172,"gam.1":0.828},{"timestamp":109,"ar":0.177067693109118,"gam":1,"ar.1":0.177,"gam.1":0.823},{"timestamp":110,"ar":0.183638732934036,"gam":1,"ar.1":0.184,"gam.1":0.816},{"timestamp":111,"ar":0.195067038283966,"gam":1,"ar.1":0.195,"gam.1":0.805},{"timestamp":112,"ar":0.204349208675636,"gam":1,"ar.1":0.204,"gam.1":0.796}],"graphs":[{"animationPlayed":false,"id":"ar","valueAxis":"timestamp","lineColor":"#ABDDA4","fillToAxis":true,"fillColors":"#ABDDA4","fillAlphas":0.75,"balloonText":"<b>ar : <\/b>[[ar.1]]","title":"ar","type":"line","valueField":"ar"},{"animationPlayed":false,"id":"gam","valueAxis":"timestamp","lineColor":"#2B83BA","fillToGraph":"ar","fillColors":"#2B83BA","fillAlphas":0.75,"balloonText":"<b>gam : <\/b>[[gam.1]]","title":"gam","type":"line","valueField":"gam"}],"legend":{"valueText":"","position":"right","reversedOrder":true,"useGraphSettings":false},"titles":[{"text":"Weights associated with the experts"}],"type":"serial","valueAxes":[{"maximum":1,"minimum":0,"title":"Weights"}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-45d6feeb4567664ad0e3" style="width:100%;height:300px;" class="ramcharts_base html-widget"></div>
<script type="application/json" data-for="htmlwidget-45d6feeb4567664ad0e3">{"x":{"chartData":{"rotate":false,"export":{"enabled":true,"position":"top-right"},"zoomOutButtonImageSize":0,"categoryAxis":{"autoGridCount":false,"gridCount":2,"labelRotation":90,"labelOffset":5},"categoryField":"cat","chartCursor":{"animationDuration":0.3},"creditsPosition":"bottom-right","dataProvider":[{"cat":"gam","low_outlier":0.69,"low":0.69,"open":0.78,"median":0.82,"close":0.83,"high":0.88,"high_outlier":0.88,"color":"#2B83BA","real_outlier_1":"0.27","individual_1":"<b> Individual <\/b>: 2","real_outlier_2":"0.45","individual_2":"<b> Individual <\/b>: 4","real_outlier_3":"0.46","individual_3":"<b> Individual <\/b>: 3","real_outlier_4":"0.49","individual_4":"<b> Individual <\/b>: 6","real_outlier_5":"0.5","individual_5":"<b> Individual <\/b>: 1","real_outlier_6":"0.52","individual_6":"<b> Individual <\/b>: 5","real_outlier_7":"0.64","individual_7":"<b> Individual <\/b>: 20","real_outlier_8":"0.66","individual_8":"<b> Individual <\/b>: 18","real_outlier_9":"0.66","individual_9":"<b> Individual <\/b>: 21","real_outlier_10":"0.67","individual_10":"<b> Individual <\/b>: 11","real_outlier_11":"0.67","individual_11":"<b> Individual <\/b>: 19","real_outlier_12":"0.67","individual_12":"<b> Individual <\/b>: 9","real_outlier_13":"0.67","individual_13":"<b> Individual <\/b>: 10","real_outlier_14":"0.68","individual_14":"<b> Individual <\/b>: 22","real_outlier_15":"0.68","individual_15":"<b> Individual <\/b>: 16","real_outlier_16":"0.68","individual_16":"<b> Individual <\/b>: 17","real_outlier_17":"0.69","individual_17":"<b> Individual <\/b>: 14"},{"cat":"ar","low_outlier":0.12,"low":0.12,"open":0.17,"median":0.18,"close":0.22,"high":0.31,"high_outlier":0.31,"color":"#ABDDA4","real_outlier_1":"0.31","individual_1":"<b> Individual <\/b>: 14","real_outlier_2":"0.32","individual_2":"<b> Individual <\/b>: 17","real_outlier_3":"0.32","individual_3":"<b> Individual <\/b>: 16","real_outlier_4":"0.32","individual_4":"<b> Individual <\/b>: 22","real_outlier_5":"0.33","individual_5":"<b> Individual <\/b>: 10","real_outlier_6":"0.33","individual_6":"<b> Individual <\/b>: 9","real_outlier_7":"0.33","individual_7":"<b> Individual <\/b>: 19","real_outlier_8":"0.33","individual_8":"<b> Individual <\/b>: 11","real_outlier_9":"0.34","individual_9":"<b> Individual <\/b>: 21","real_outlier_10":"0.34","individual_10":"<b> Individual <\/b>: 18","real_outlier_11":"0.36","individual_11":"<b> Individual <\/b>: 20","real_outlier_12":"0.48","individual_12":"<b> Individual <\/b>: 5","real_outlier_13":"0.5","individual_13":"<b> Individual <\/b>: 1","real_outlier_14":"0.51","individual_14":"<b> Individual <\/b>: 6","real_outlier_15":"0.54","individual_15":"<b> Individual <\/b>: 3","real_outlier_16":"0.55","individual_16":"<b> Individual <\/b>: 4","real_outlier_17":"0.73","individual_17":"<b> Individual <\/b>: 2"}],"graphs":[{"animationPlayed":false,"id":"g1","closeField":"close","fillColorsField":"color","highField":"high","lineColor":"#7f8da9","lineAlpha":1,"lowField":"low","fillAlphas":"0.9","negativeLineColor":"#7f8da9","openField":"open","columnWidth":0.4,"balloonText":"High = <b>[[high_outlier]]<\/b><br/>3rd quart. = <b>[[close]]<\/b><br/>Median = <b>[[median]]<\/b><br/>1st quart. = <b>[[open]]<\/b><br/>Low = <b>[[low_outlier]]<\/b><br/>","title":"Price:","type":"candlestick","valueField":"close"},{"animationPlayed":false,"id":"g2","lineColor":"black","noStepRisers":true,"lineThickness":3,"periodSpan":0.4,"balloonText":"","type":"step","valueField":"median"},{"animationPlayed":false,"id":"g3","lineColor":"black","noStepRisers":true,"periodSpan":0.3,"balloonText":"","type":"step","valueField":"low_outlier"},{"animationPlayed":false,"id":"g4","lineColor":"black","noStepRisers":true,"periodSpan":0.3,"balloonText":"","type":"step","valueField":"high_outlier"},{"animationPlayed":false,"id":"g5","lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"","type":"line","valueField":"real_outlier"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_1]]<br/><b> Value <\/b>: [[real_outlier_1]]","type":"line","valueField":"real_outlier_1"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_2]]<br/><b> Value <\/b>: [[real_outlier_2]]","type":"line","valueField":"real_outlier_2"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_3]]<br/><b> Value <\/b>: [[real_outlier_3]]","type":"line","valueField":"real_outlier_3"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_4]]<br/><b> Value <\/b>: [[real_outlier_4]]","type":"line","valueField":"real_outlier_4"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_5]]<br/><b> Value <\/b>: [[real_outlier_5]]","type":"line","valueField":"real_outlier_5"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_6]]<br/><b> Value <\/b>: [[real_outlier_6]]","type":"line","valueField":"real_outlier_6"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_7]]<br/><b> Value <\/b>: [[real_outlier_7]]","type":"line","valueField":"real_outlier_7"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_8]]<br/><b> Value <\/b>: [[real_outlier_8]]","type":"line","valueField":"real_outlier_8"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_9]]<br/><b> Value <\/b>: [[real_outlier_9]]","type":"line","valueField":"real_outlier_9"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_10]]<br/><b> Value <\/b>: [[real_outlier_10]]","type":"line","valueField":"real_outlier_10"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_11]]<br/><b> Value <\/b>: [[real_outlier_11]]","type":"line","valueField":"real_outlier_11"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_12]]<br/><b> Value <\/b>: [[real_outlier_12]]","type":"line","valueField":"real_outlier_12"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_13]]<br/><b> Value <\/b>: [[real_outlier_13]]","type":"line","valueField":"real_outlier_13"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_14]]<br/><b> Value <\/b>: [[real_outlier_14]]","type":"line","valueField":"real_outlier_14"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_15]]<br/><b> Value <\/b>: [[real_outlier_15]]","type":"line","valueField":"real_outlier_15"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_16]]<br/><b> Value <\/b>: [[real_outlier_16]]","type":"line","valueField":"real_outlier_16"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_17]]<br/><b> Value <\/b>: [[real_outlier_17]]","type":"line","valueField":"real_outlier_17"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_18]]<br/><b> Value <\/b>: [[real_outlier_18]]","type":"line","valueField":"real_outlier_18"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_19]]<br/><b> Value <\/b>: [[real_outlier_19]]","type":"line","valueField":"real_outlier_19"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_20]]<br/><b> Value <\/b>: [[real_outlier_20]]","type":"line","valueField":"real_outlier_20"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_21]]<br/><b> Value <\/b>: [[real_outlier_21]]","type":"line","valueField":"real_outlier_21"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_22]]<br/><b> Value <\/b>: [[real_outlier_22]]","type":"line","valueField":"real_outlier_22"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_23]]<br/><b> Value <\/b>: [[real_outlier_23]]","type":"line","valueField":"real_outlier_23"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_24]]<br/><b> Value <\/b>: [[real_outlier_24]]","type":"line","valueField":"real_outlier_24"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_25]]<br/><b> Value <\/b>: [[real_outlier_25]]","type":"line","valueField":"real_outlier_25"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_26]]<br/><b> Value <\/b>: [[real_outlier_26]]","type":"line","valueField":"real_outlier_26"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_27]]<br/><b> Value <\/b>: [[real_outlier_27]]","type":"line","valueField":"real_outlier_27"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_28]]<br/><b> Value <\/b>: [[real_outlier_28]]","type":"line","valueField":"real_outlier_28"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_29]]<br/><b> Value <\/b>: [[real_outlier_29]]","type":"line","valueField":"real_outlier_29"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_30]]<br/><b> Value <\/b>: [[real_outlier_30]]","type":"line","valueField":"real_outlier_30"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_31]]<br/><b> Value <\/b>: [[real_outlier_31]]","type":"line","valueField":"real_outlier_31"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_32]]<br/><b> Value <\/b>: [[real_outlier_32]]","type":"line","valueField":"real_outlier_32"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_33]]<br/><b> Value <\/b>: [[real_outlier_33]]","type":"line","valueField":"real_outlier_33"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_34]]<br/><b> Value <\/b>: [[real_outlier_34]]","type":"line","valueField":"real_outlier_34"},{"animationPlayed":false,"lineColor":"black","lineAlpha":0,"bullet":"round","noStepRisers":true,"periodSpan":0.5,"balloonText":"[[individual_35]]<br/><b> Value <\/b>: [[real_outlier_35]]","type":"line","valueField":"real_outlier_35"}],"theme":"light","titles":[{"text":"Weights associated with the experts"}],"type":"serial","valueAxes":[{"title":"weights"}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-0c27d8af58166d53661c" style="width:100%;height:300px;" class="ramcharts_base html-widget"></div>
<script type="application/json" data-for="htmlwidget-0c27d8af58166d53661c">{"x":{"chartData":{"thousandsSeparator":" ","precision":2,"export":{"enabled":true,"position":"top-right"},"zoomOutButtonImageSize":0,"categoryField":"timestamp","chartCursor":{"animationDuration":0.3},"creditsPosition":"bottom-right","dataProvider":[{"ar":360924.18,"gam":2503486.84,"cumul.exploss":1191383.97,"timestamp":1},{"ar":5780870.18,"gam":1313828.73,"cumul.exploss":3841350.61,"timestamp":2},{"ar":4356372.51,"gam":1621333.75,"cumul.exploss":3168683.15,"timestamp":3},{"ar":4240219.82,"gam":1281255.15,"cumul.exploss":2810941.51,"timestamp":4},{"ar":4725820.7,"gam":3075328.29,"cumul.exploss":3939046.65,"timestamp":5},{"ar":6998210.41,"gam":3546219.42,"cumul.exploss":5178796.07,"timestamp":6},{"ar":6392819.78,"gam":3631513.78,"cumul.exploss":4970363.04,"timestamp":7},{"ar":6136640.72,"gam":4643449.34,"cumul.exploss":5493073.75,"timestamp":8},{"ar":5496691.38,"gam":4149620.1,"cumul.exploss":4910654.42,"timestamp":9},{"ar":5182931.42,"gam":4031739.44,"cumul.exploss":4695876.94,"timestamp":10},{"ar":5086754.51,"gam":3708155.96,"cumul.exploss":4385840.45,"timestamp":11},{"ar":4952662.66,"gam":3772817.38,"cumul.exploss":4367547.89,"timestamp":12},{"ar":4580256.2,"gam":3489691,"cumul.exploss":4032446.5,"timestamp":13},{"ar":4415926.92,"gam":3242005.63,"cumul.exploss":3767802.84,"timestamp":14},{"ar":4166759.36,"gam":3141647.8,"cumul.exploss":3547519.58,"timestamp":15},{"ar":3909563.11,"gam":2945587.82,"cumul.exploss":3325838.66,"timestamp":16},{"ar":3680840.67,"gam":3000328.48,"cumul.exploss":3244306.85,"timestamp":17},{"ar":3884652.97,"gam":3164308.02,"cumul.exploss":3420446.73,"timestamp":18},{"ar":3752227.54,"gam":3310365.65,"cumul.exploss":3454594.37,"timestamp":19},{"ar":3735011.46,"gam":3182842.58,"cumul.exploss":3356434.06,"timestamp":20},{"ar":3711131.26,"gam":3037895.63,"cumul.exploss":3231371.94,"timestamp":21},{"ar":3958837.34,"gam":2975378.8,"cumul.exploss":3238475.72,"timestamp":22},{"ar":4063474.38,"gam":2906602.84,"cumul.exploss":3199337.49,"timestamp":23},{"ar":3979813.42,"gam":2788948.2,"cumul.exploss":3066519.36,"timestamp":24},{"ar":3929013.77,"gam":2762481.83,"cumul.exploss":3034013.22,"timestamp":25},{"ar":3944015.68,"gam":2762736.5,"cumul.exploss":3036069.14,"timestamp":26},{"ar":3815681.55,"gam":2694966.04,"cumul.exploss":2954071.58,"timestamp":27},{"ar":3693705.85,"gam":2611033.11,"cumul.exploss":2852235.19,"timestamp":28},{"ar":3566350.77,"gam":2543388.47,"cumul.exploss":2767212.1,"timestamp":29},{"ar":3509167.39,"gam":2465297.36,"cumul.exploss":2675012.92,"timestamp":30},{"ar":3463366.7,"gam":2387935.53,"cumul.exploss":2597805.81,"timestamp":31},{"ar":3357833.67,"gam":2313357.91,"cumul.exploss":2516663.64,"timestamp":32},{"ar":3260840.91,"gam":2244469.29,"cumul.exploss":2440541.21,"timestamp":33},{"ar":3169198.26,"gam":2179581.99,"cumul.exploss":2368895.7,"timestamp":34},{"ar":3082929.02,"gam":2119018.77,"cumul.exploss":2301523.38,"timestamp":35},{"ar":3000299.12,"gam":2069066.95,"cumul.exploss":2244914.18,"timestamp":36},{"ar":2964246,"gam":2014537.98,"cumul.exploss":2190101.13,"timestamp":37},{"ar":2888424.15,"gam":1963054.85,"cumul.exploss":2132880.86,"timestamp":38},{"ar":2814620.12,"gam":1922353.72,"cumul.exploss":2083533.26,"timestamp":39},{"ar":2919027.42,"gam":1881373.41,"cumul.exploss":2056585.86,"timestamp":40},{"ar":2850530.93,"gam":1836659.2,"cumul.exploss":2006723.08,"timestamp":41},{"ar":2870042.26,"gam":1799711.85,"cumul.exploss":1974447.42,"timestamp":42},{"ar":2832827.05,"gam":1757885.69,"cumul.exploss":1929844.18,"timestamp":43},{"ar":2788342.82,"gam":1718199.54,"cumul.exploss":1887521.63,"timestamp":44},{"ar":2770191.15,"gam":1695013.73,"cumul.exploss":1864685.35,"timestamp":45},{"ar":2710458.5,"gam":1658438.81,"cumul.exploss":1824455.46,"timestamp":46},{"ar":2653794.42,"gam":1624679.48,"cumul.exploss":1787063.95,"timestamp":47},{"ar":2632340.36,"gam":1590865.19,"cumul.exploss":1751219.69,"timestamp":48},{"ar":2583115.32,"gam":1575268.18,"cumul.exploss":1729633.68,"timestamp":49},{"ar":2546493.33,"gam":1544164.55,"cumul.exploss":1695067.98,"timestamp":50},{"ar":2532337.73,"gam":1543590.85,"cumul.exploss":1692566.29,"timestamp":51},{"ar":2538643.12,"gam":1524124.46,"cumul.exploss":1675508.31,"timestamp":52},{"ar":2521488.24,"gam":1498229.93,"cumul.exploss":1649352.92,"timestamp":53},{"ar":2508531.09,"gam":1506772.45,"cumul.exploss":1654674.56,"timestamp":54},{"ar":2522378.2,"gam":1641729.44,"cumul.exploss":1766636.77,"timestamp":55},{"ar":2582079.71,"gam":1618820.04,"cumul.exploss":1750684.23,"timestamp":56},{"ar":2635031.83,"gam":1603037.89,"cumul.exploss":1741336.24,"timestamp":57},{"ar":2734062.4,"gam":1575942.92,"cumul.exploss":1717443.96,"timestamp":58},{"ar":2937758.33,"gam":1648494.76,"cumul.exploss":1804799.72,"timestamp":59},{"ar":2897844.71,"gam":1727391.43,"cumul.exploss":1864407.59,"timestamp":60},{"ar":3108235.18,"gam":2041697.9,"cumul.exploss":2164586.67,"timestamp":61},{"ar":3100130.26,"gam":2008775.23,"cumul.exploss":2130700.19,"timestamp":62},{"ar":3054068.43,"gam":1986504.83,"cumul.exploss":2105360.14,"timestamp":63},{"ar":3009735.35,"gam":1963838.53,"cumul.exploss":2079984.74,"timestamp":64},{"ar":3056843.44,"gam":1992642.97,"cumul.exploss":2111488.22,"timestamp":65},{"ar":3027479.61,"gam":1996669.43,"cumul.exploss":2110965.74,"timestamp":66},{"ar":2992127.51,"gam":1967117.92,"cumul.exploss":2079459.05,"timestamp":67},{"ar":2993025.01,"gam":2010595.05,"cumul.exploss":2116985.41,"timestamp":68},{"ar":2955361.88,"gam":1983851.99,"cumul.exploss":2087242.09,"timestamp":69},{"ar":2927675.84,"gam":1957293.02,"cumul.exploss":2060324.97,"timestamp":70},{"ar":3136132.4,"gam":2035459.75,"cumul.exploss":2154373.47,"timestamp":71},{"ar":3093134.76,"gam":2007578.77,"cumul.exploss":2124859.64,"timestamp":72},{"ar":3051342.34,"gam":1995480.81,"cumul.exploss":2107077.23,"timestamp":73},{"ar":3010655.84,"gam":1992962.05,"cumul.exploss":2096563.47,"timestamp":74},{"ar":3026666.73,"gam":2036503.94,"cumul.exploss":2136795.09,"timestamp":75},{"ar":2992602.05,"gam":2070284.34,"cumul.exploss":2158518.41,"timestamp":76},{"ar":2969095.86,"gam":2067028.04,"cumul.exploss":2152795.01,"timestamp":77},{"ar":2956052.33,"gam":2077940.52,"cumul.exploss":2145177.74,"timestamp":78},{"ar":2985234.89,"gam":2055847.76,"cumul.exploss":2118167.41,"timestamp":79},{"ar":2963464.72,"gam":2116058.75,"cumul.exploss":2162040.81,"timestamp":80},{"ar":2943507.64,"gam":2115009.96,"cumul.exploss":2146635.74,"timestamp":81},{"ar":2989828.87,"gam":2152432.18,"cumul.exploss":2187166.09,"timestamp":82},{"ar":2955324.14,"gam":2141036.72,"cumul.exploss":2171864.36,"timestamp":83},{"ar":2934159.35,"gam":2138837.08,"cumul.exploss":2167320.89,"timestamp":84},{"ar":2909021.94,"gam":2144540.19,"cumul.exploss":2167497.38,"timestamp":85},{"ar":2878881.95,"gam":2124946.41,"cumul.exploss":2144410.61,"timestamp":86},{"ar":2859827.87,"gam":2109960.83,"cumul.exploss":2130072.91,"timestamp":87},{"ar":2927013.1,"gam":2149848.98,"cumul.exploss":2176411.9,"timestamp":88},{"ar":2894631.03,"gam":2139708.92,"cumul.exploss":2161905.16,"timestamp":89},{"ar":2900673.08,"gam":2123660.29,"cumul.exploss":2149843.4,"timestamp":90},{"ar":2929514.28,"gam":2107113.12,"cumul.exploss":2139211.86,"timestamp":91},{"ar":2991635.88,"gam":2088362.41,"cumul.exploss":2127710.78,"timestamp":92},{"ar":2959991.86,"gam":2069871.16,"cumul.exploss":2108000.66,"timestamp":93},{"ar":2928932.77,"gam":2053317.17,"cumul.exploss":2088946.27,"timestamp":94},{"ar":2909724.7,"gam":2031714.75,"cumul.exploss":2067405.43,"timestamp":95},{"ar":2890367.69,"gam":2020645.14,"cumul.exploss":2056106.82,"timestamp":96},{"ar":2879495.22,"gam":2012571.94,"cumul.exploss":2048624.87,"timestamp":97},{"ar":2860336.35,"gam":2008745.84,"cumul.exploss":2043234.23,"timestamp":98},{"ar":2868195.99,"gam":2022014.3,"cumul.exploss":2056684.5,"timestamp":99},{"ar":2845239.56,"gam":2015414.94,"cumul.exploss":2048173.04,"timestamp":100},{"ar":2847931.1,"gam":2032904.86,"cumul.exploss":2064169.72,"timestamp":101},{"ar":2867472.46,"gam":2013025.98,"cumul.exploss":2044934.66,"timestamp":102},{"ar":2864371.73,"gam":2014027.41,"cumul.exploss":2046305.63,"timestamp":103},{"ar":2839066.07,"gam":1995087.13,"cumul.exploss":2026715.31,"timestamp":104},{"ar":2814077.43,"gam":1979358.35,"cumul.exploss":2010460.51,"timestamp":105},{"ar":2789600.22,"gam":1964366.54,"cumul.exploss":1994872.37,"timestamp":106},{"ar":2763653.52,"gam":1955323.79,"cumul.exploss":1982973.57,"timestamp":107},{"ar":2756871.53,"gam":1971102.84,"cumul.exploss":1995582.6,"timestamp":108},{"ar":2735345.75,"gam":1963040.99,"cumul.exploss":1982388.92,"timestamp":109},{"ar":2933945.88,"gam":2208337.7,"cumul.exploss":2219980.87,"timestamp":110},{"ar":2907811.77,"gam":2209173.75,"cumul.exploss":2214204.65,"timestamp":111},{"ar":2881858.36,"gam":2189796.07,"cumul.exploss":2194673.45,"timestamp":112}],"graphs":[{"animationPlayed":false,"id":"ar","valueAxis":"timestamp","lineColor":"#ABDDA4","balloonText":"<b>ar : <\/b>[[value]]","title":"ar","type":"line","valueField":"ar"},{"animationPlayed":false,"id":"gam","valueAxis":"timestamp","lineColor":"#2B83BA","balloonText":"<b>gam : <\/b>[[value]]","title":"gam","type":"line","valueField":"gam"},{"animationPlayed":false,"id":"cumul.exploss","valueAxis":"timestamp","lineThickness":2,"lineColor":"black","balloonText":"<b> cumul.exploss : <\/b>[[value]]","title":"BOA","type":"line","valueField":"cumul.exploss"}],"legend":{"valueText":"","position":"right","reversedOrder":true,"useGraphSettings":false},"titles":[{"text":"Dynamic average loss"}],"type":"serial","valueAxes":[{"title":"Cumulative loss"}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-8cfb95dc9b6b2f202c94" style="width:100%;height:300px;" class="ramcharts_base html-widget"></div>
<script type="application/json" data-for="htmlwidget-8cfb95dc9b6b2f202c94">{"x":{"chartData":{"thousandsSeparator":" ","precision":2,"export":{"enabled":true,"position":"top-right"},"zoomOutButtonImageSize":0,"categoryField":"timestamp","chartCursor":{"animationDuration":0.3},"creditsPosition":"bottom-right","dataProvider":[{"ar":600.77,"gam":1582.24,"cumul.expres":1091.51,"timestamp":1},{"ar":3947.53,"gam":1934.62,"cumul.expres":3639.31,"timestamp":2},{"ar":5175.28,"gam":3430.06,"cumul.expres":4989.63,"timestamp":3},{"ar":7148.04,"gam":3940.96,"cumul.expres":6307.85,"timestamp":4},{"ar":9730.33,"gam":7142.78,"cumul.expres":9214.99,"timestamp":5},{"ar":14015.21,"gam":9571.91,"cumul.expres":12588.05,"timestamp":6},{"ar":12353.74,"gam":7536.4,"cumul.expres":10659.38,"timestamp":7},{"ar":14437.82,"gam":10960.87,"cumul.expres":13684.62,"timestamp":8},{"ar":15051.9,"gam":11406.95,"cumul.expres":14185.92,"timestamp":9},{"ar":16587.83,"gam":13130.56,"cumul.expres":15848.11,"timestamp":10},{"ar":14556.83,"gam":12443.3,"cumul.expres":14714.32,"timestamp":11},{"ar":16421.67,"gam":14560.87,"cumul.expres":16755.48,"timestamp":12},{"ar":16755.41,"gam":14257.27,"cumul.expres":16649.51,"timestamp":13},{"ar":15245.56,"gam":14108.62,"cumul.expres":16077.29,"timestamp":14},{"ar":16069.22,"gam":12790.8,"cumul.expres":15396.44,"timestamp":15},{"ar":15842.02,"gam":12859.27,"cumul.expres":15371.44,"timestamp":16},{"ar":15987.9,"gam":14828.07,"cumul.expres":16764.21,"timestamp":17},{"ar":18698.89,"gam":17267.74,"cumul.expres":19296.96,"timestamp":18},{"ar":19868.75,"gam":19704.83,"cumul.expres":21314.2,"timestamp":19},{"ar":21714.8,"gam":20576.55,"cumul.expres":22535.42,"timestamp":20},{"ar":23513,"gam":20949.32,"cumul.expres":23389.9,"timestamp":21},{"ar":26539.66,"gam":22238.71,"cumul.expres":25230.46,"timestamp":22},{"ar":29062.65,"gam":23419.19,"cumul.expres":26759.61,"timestamp":23},{"ar":30496.39,"gam":23131.28,"cumul.expres":26867.79,"timestamp":24},{"ar":28850.24,"gam":21672.76,"cumul.expres":25366.5,"timestamp":25},{"ar":26772,"gam":20008.7,"cumul.expres":23609.38,"timestamp":26},{"ar":26079.91,"gam":19042.81,"cumul.expres":22702.66,"timestamp":27},{"ar":25447.17,"gam":19630.04,"cumul.expres":23023.06,"timestamp":28},{"ar":25426.95,"gam":20435.86,"cumul.expres":23644.8,"timestamp":29},{"ar":24066.49,"gam":20883.81,"cumul.expres":23679.97,"timestamp":30},{"ar":22621.03,"gam":20624.81,"cumul.expres":23149.31,"timestamp":31},{"ar":22327.25,"gam":20662.91,"cumul.expres":23113.87,"timestamp":32},{"ar":22723.57,"gam":20462.83,"cumul.expres":23045.87,"timestamp":33},{"ar":23104.35,"gam":20267.12,"cumul.expres":22978.1,"timestamp":34},{"ar":23491.36,"gam":20022.44,"cumul.expres":22873.86,"timestamp":35},{"ar":23162.34,"gam":19456.09,"cumul.expres":22360.45,"timestamp":36},{"ar":24453.2,"gam":19683.01,"cumul.expres":22826.1,"timestamp":37},{"ar":24165.08,"gam":19924.21,"cumul.expres":22951.53,"timestamp":38},{"ar":24064.75,"gam":20537.17,"cumul.expres":23407.95,"timestamp":39},{"ar":21420.71,"gam":20005.06,"cumul.expres":22405.14,"timestamp":40},{"ar":21753.38,"gam":19785.76,"cumul.expres":22294.63,"timestamp":41},{"ar":23669.11,"gam":20319.49,"cumul.expres":23101.57,"timestamp":42},{"ar":22542.26,"gam":20285.04,"cumul.expres":22863.85,"timestamp":43},{"ar":21606.57,"gam":20176.9,"cumul.expres":22603.75,"timestamp":44},{"ar":20202.46,"gam":19355.41,"cumul.expres":21676.45,"timestamp":45},{"ar":20052.5,"gam":19243.31,"cumul.expres":21557.66,"timestamp":46},{"ar":20269.86,"gam":19511.17,"cumul.expres":21816.61,"timestamp":47},{"ar":21544.22,"gam":19551.09,"cumul.expres":22074.56,"timestamp":48},{"ar":21074.85,"gam":18641.91,"cumul.expres":21241.79,"timestamp":49},{"ar":21942.04,"gam":18500.18,"cumul.expres":21278.52,"timestamp":50},{"ar":23292.8,"gam":19731,"cumul.expres":22530.51,"timestamp":51},{"ar":24984.02,"gam":20459.93,"cumul.expres":23428.04,"timestamp":52},{"ar":23707.52,"gam":20070.42,"cumul.expres":22890.19,"timestamp":53},{"ar":25057.26,"gam":21470.25,"cumul.expres":24281.86,"timestamp":54},{"ar":26865.61,"gam":24458.46,"cumul.expres":27076.96,"timestamp":55},{"ar":29287.53,"gam":25057.46,"cumul.expres":28011.46,"timestamp":56},{"ar":31654.03,"gam":25905.54,"cumul.expres":29115.02,"timestamp":57},{"ar":34548.65,"gam":26083.11,"cumul.expres":29711.33,"timestamp":58},{"ar":30707.8,"gam":23663.09,"cumul.expres":27089.99,"timestamp":59},{"ar":31444.64,"gam":26189.41,"cumul.expres":29409.75,"timestamp":60},{"ar":35410.96,"gam":30761.07,"cumul.expres":33901.44,"timestamp":61},{"ar":37025.19,"gam":30783.25,"cumul.expres":34153.68,"timestamp":62},{"ar":36579.95,"gam":30004.96,"cumul.expres":33422.74,"timestamp":63},{"ar":37045.52,"gam":30736.98,"cumul.expres":34116.52,"timestamp":64},{"ar":39509.61,"gam":32695.59,"cumul.expres":36148.2,"timestamp":65},{"ar":40567.36,"gam":34198.38,"cumul.expres":37589.38,"timestamp":66},{"ar":41379.08,"gam":34069.08,"cumul.expres":37593.55,"timestamp":67},{"ar":39631.75,"gam":31850.17,"cumul.expres":35441.52,"timestamp":68},{"ar":39003.84,"gam":32256.77,"cumul.expres":35695.87,"timestamp":69},{"ar":37995.21,"gam":31903.61,"cumul.expres":35245.27,"timestamp":70},{"ar":33784.74,"gam":29163.7,"cumul.expres":32289.3,"timestamp":71},{"ar":33985.49,"gam":29331.12,"cumul.expres":32460.7,"timestamp":72},{"ar":34191.13,"gam":28270.73,"cumul.expres":31551.44,"timestamp":73},{"ar":34392.48,"gam":26925.7,"cumul.expres":30398.59,"timestamp":74},{"ar":32340.29,"gam":24632.54,"cumul.expres":28137.19,"timestamp":75},{"ar":31678.66,"gam":22486.89,"cumul.expres":26190.97,"timestamp":76},{"ar":30591.18,"gam":21137.98,"cumul.expres":24880.32,"timestamp":77},{"ar":31988.21,"gam":19429.71,"cumul.expres":23631.86,"timestamp":78},{"ar":34282,"gam":18852.98,"cumul.expres":23525.27,"timestamp":79},{"ar":33166.82,"gam":16231.39,"cumul.expres":21152.92,"timestamp":80},{"ar":34327.4,"gam":14806.22,"cumul.expres":20196.77,"timestamp":81},{"ar":31730.9,"gam":12529.46,"cumul.expres":17857.94,"timestamp":82},{"ar":31376.02,"gam":11431.01,"cumul.expres":16900.27,"timestamp":83},{"ar":30290.9,"gam":10032.34,"cumul.expres":15562.28,"timestamp":84},{"ar":29397.89,"gam":8412.59,"cumul.expres":14085.01,"timestamp":85},{"ar":29960.9,"gam":7734.74,"cumul.expres":13658.36,"timestamp":86},{"ar":28855.83,"gam":6828.54,"cumul.expres":12711.24,"timestamp":87},{"ar":25894.05,"gam":4457.86,"cumul.expres":10219.68,"timestamp":88},{"ar":25681.9,"gam":3341,"cumul.expres":9278.77,"timestamp":89},{"ar":23827.6,"gam":2507.13,"cumul.expres":8241.29,"timestamp":90},{"ar":21477.02,"gam":1721.08,"cumul.expres":7153.92,"timestamp":91},{"ar":18536.84,"gam":1102.98,"cumul.expres":6114.16,"timestamp":92},{"ar":18316.06,"gam":495.8,"cumul.expres":5571.32,"timestamp":93},{"ar":18517.15,"gam":-221,"cumul.expres":5008.4,"timestamp":94},{"ar":19567.95,"gam":-188.02,"cumul.expres":5214.71,"timestamp":95},{"ar":18542.54,"gam":-1172.42,"cumul.expres":4223.38,"timestamp":96},{"ar":17187.65,"gam":-2284.87,"cumul.expres":3069.97,"timestamp":97},{"ar":16186.69,"gam":-3564.56,"cumul.expres":1836.95,"timestamp":98},{"ar":14279.22,"gam":-5387.29,"cumul.expres":-0.12,"timestamp":99},{"ar":13522.54,"gam":-6554.37,"cumul.expres":-1098.09,"timestamp":100},{"ar":11757.02,"gam":-8499.08,"cumul.expres":-3012.2,"timestamp":101},{"ar":13957.28,"gam":-8571.59,"cumul.expres":-2692.53,"timestamp":102},{"ar":12361,"gam":-10026.3,"cumul.expres":-4171.09,"timestamp":103},{"ar":12843.27,"gam":-10236.63,"cumul.expres":-4265.49,"timestamp":104},{"ar":13307.23,"gam":-9650.49,"cumul.expres":-3699.84,"timestamp":105},{"ar":12838.73,"gam":-10275.17,"cumul.expres":-4298.27,"timestamp":106},{"ar":12954.07,"gam":-9276.77,"cumul.expres":-3448.74,"timestamp":107},{"ar":14379.27,"gam":-7363.8,"cumul.expres":-1619.87,"timestamp":108},{"ar":15020.02,"gam":-8408.96,"cumul.expres":-2366.51,"timestamp":109},{"ar":19977.98,"gam":-3028.84,"cumul.expres":2936.08,"timestamp":110},{"ar":19796.16,"gam":-4545.79,"cumul.expres":1679.57,"timestamp":111},{"ar":19828.25,"gam":-4348.63,"cumul.expres":1843,"timestamp":112}],"graphs":[{"animationPlayed":false,"id":"ar","valueAxis":"timestamp","lineColor":"#ABDDA4","balloonText":"<b>ar : <\/b>[[value]]","title":"ar","type":"line","valueField":"ar"},{"animationPlayed":false,"id":"gam","valueAxis":"timestamp","lineColor":"#2B83BA","balloonText":"<b>gam : <\/b>[[value]]","title":"gam","type":"line","valueField":"gam"},{"animationPlayed":false,"id":"cumul.expres","valueAxis":"timestamp","lineThickness":2,"lineColor":"black","balloonText":"<b> cumul.expres : <\/b>[[value]]","title":"BOA","type":"line","valueField":"cumul.expres"}],"legend":{"valueText":"","position":"right","reversedOrder":true,"useGraphSettings":false},"titles":[{"text":"Cumulative residuals"}],"type":"serial","valueAxes":[{"title":"Cumulative residuals"}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-1e659048e6565275f159" style="width:100%;height:300px;" class="ramcharts_base html-widget"></div>
<script type="application/json" data-for="htmlwidget-1e659048e6565275f159">{"x":{"chartData":{"thousandsSeparator":" ","precision":2,"export":{"enabled":true,"position":"top-right"},"categoryAxis":{"autoGridCount":false,"gridCount":4,"labelRotation":90,"labelColorField":"cols","labelOffset":5},"categoryField":"names","chartCursor":{"animationDuration":0.3},"creditsPosition":"bottom-right","dataProvider":[{"values":2189796.07194086,"bullet":"round","size":8,"cols":"#2B83BA","names":"gam"},{"values":2191784.00515949,"bullet":"diamond","size":10,"cols":"black","names":"uniform"},{"values":2194673.44641826,"bullet":"diamond","size":10,"cols":"black","names":"BOA"},{"values":2881858.36130467,"bullet":"round","size":8,"cols":"#ABDDA4","names":"ar"}],"graphs":[{"animationPlayed":false,"id":"lines","valueAxis":"names","lineColor":"black","showBalloon":false,"title":"lines","type":"line","valueField":"values"},{"animationPlayed":false,"id":"bullets","valueAxis":"names","lineAlpha":0,"bulletField":"bullet","bulletSizeField":"size","colorField":"cols","title":"bullets","type":"line","valueField":"values"}],"titles":[{"text":"Average loss suffered by the experts"}],"type":"serial","valueAxes":[{"title":"Square loss"}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-2f6a3fdde9dffe663b32" style="width:100%;height:300px;" class="ramcharts_base html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f6a3fdde9dffe663b32">{"x":{"chartData":{"thousandsSeparator":" ","precision":2,"export":{"enabled":true,"position":"top-right"},"zoomOutButtonImageSize":0,"categoryField":"timestamp","chartCursor":{"animationDuration":0.3},"creditsPosition":"bottom-right","dataProvider":[{"timestamp":1,"ar":32481.7595173168,"gam":64472.7833210824,"ar.1":32481.76,"gam.1":31991.02,"pred":65564.29},{"timestamp":2,"ar":43689.8038872853,"gam":60388.2650700071,"ar.1":43689.8,"gam.1":16698.46,"pred":62936.07},{"timestamp":3,"ar":34549.0376183831,"gam":63603.5132584242,"ar.1":34549.04,"gam.1":29054.48,"pred":64953.83},{"timestamp":4,"ar":32918.9625673307,"gam":60262.2127021015,"ar.1":32918.96,"gam.1":27343.25,"pred":61580.44},{"timestamp":5,"ar":32578.5359513707,"gam":68168.3801050613,"ar.1":32578.54,"gam.1":35589.84,"pred":71075.52},{"timestamp":6,"ar":36172.8808314226,"gam":72026.8165874963,"ar.1":36172.88,"gam.1":35853.94,"pred":75399.88},{"timestamp":7,"ar":19157.5691735768,"gam":67338.7971769851,"ar.1":19157.57,"gam.1":48181.23,"pred":65410.13},{"timestamp":8,"ar":18982.2864711606,"gam":62789.9134988963,"ar.1":18982.29,"gam.1":43807.63,"pred":65815.15},{"timestamp":9,"ar":21245.1905392674,"gam":64750.597758656,"ar.1":21245.19,"gam.1":43505.41,"pred":65251.9},{"timestamp":10,"ar":20429.9169743309,"gam":62304.7224548157,"ar.1":20429.92,"gam.1":41874.81,"pred":63966.91},{"timestamp":11,"ar":22239.1791823076,"gam":66027.2107577916,"ar.1":22239.18,"gam.1":43788.03,"pred":64893.42},{"timestamp":12,"ar":20366.3519996905,"gam":67185.1595462717,"ar.1":20366.35,"gam.1":46818.81,"pred":69226.32},{"timestamp":13,"ar":20055.5971482209,"gam":65116.4499890774,"ar.1":20055.6,"gam.1":45060.85,"pred":65010.48},{"timestamp":14,"ar":21166.0082364213,"gam":67081.8803666174,"ar.1":21166.01,"gam.1":45915.87,"pred":66509.66},{"timestamp":15,"ar":18124.6252346333,"gam":62439.1753312314,"ar.1":18124.63,"gam.1":44314.55,"pred":61758.33},{"timestamp":16,"ar":18410.5837806095,"gam":58038.0106343937,"ar.1":18410.58,"gam.1":39627.43,"pred":58013.01},{"timestamp":17,"ar":19833.5203140148,"gam":61518.2098766581,"ar.1":19833.52,"gam.1":41684.69,"pred":62910.98},{"timestamp":18,"ar":19597.4165860236,"gam":57300.1097067799,"ar.1":19597.42,"gam.1":37702.69,"pred":59832.86},{"timestamp":19,"ar":20647.0921461832,"gam":61471.5351419896,"ar.1":20647.09,"gam.1":40824.44,"pred":63488.77},{"timestamp":20,"ar":21296.2583879189,"gam":59994.0943660059,"ar.1":21296.26,"gam.1":38697.84,"pred":61215.32},{"timestamp":21,"ar":18748.1704987274,"gam":56421.9167906364,"ar.1":18748.17,"gam.1":37673.75,"pred":57276.39},{"timestamp":22,"ar":17775.237921487,"gam":57213.176720452,"ar.1":17775.24,"gam.1":39437.94,"pred":59053.74},{"timestamp":23,"ar":14078.7149171085,"gam":55202.3540484562,"ar.1":14078.71,"gam.1":41123.64,"pred":56731.5},{"timestamp":24,"ar":11540.7300544358,"gam":51489.0754893203,"ar.1":11540.73,"gam.1":39948.35,"pred":51597.25},{"timestamp":25,"ar":11293.5986155987,"gam":49405.4040860971,"ar.1":11293.6,"gam.1":38111.81,"pred":47904.12},{"timestamp":26,"ar":10378.4033756487,"gam":45870.6815497589,"ar.1":10378.4,"gam.1":35492.28,"pred":44113.56},{"timestamp":27,"ar":9850.48598162044,"gam":45795.8772824968,"ar.1":9850.49,"gam.1":35945.39,"pred":44889.16},{"timestamp":28,"ar":10259.2579704039,"gam":45951.5846964448,"ar.1":10259.26,"gam.1":35692.33,"pred":46271.98},{"timestamp":29,"ar":10392.5713863415,"gam":45995.3364199158,"ar.1":10392.57,"gam.1":35602.77,"pred":46617.08},{"timestamp":30,"ar":10922.7193511005,"gam":46457.4662195834,"ar.1":10922.72,"gam.1":35534.75,"pred":46492.63},{"timestamp":31,"ar":10833.3066811688,"gam":46400.0369171349,"ar.1":10833.31,"gam.1":35566.73,"pred":45869.38},{"timestamp":32,"ar":10322.3934421898,"gam":46322.7594480937,"ar.1":10322.39,"gam.1":36000.37,"pred":46287.32},{"timestamp":33,"ar":10294.8668516922,"gam":46948.1686481887,"ar.1":10294.87,"gam.1":36653.3,"pred":46880.17},{"timestamp":34,"ar":10313.5796194777,"gam":46924.3042635995,"ar.1":10313.58,"gam.1":36610.72,"pred":46856.53},{"timestamp":35,"ar":10168.4087350026,"gam":46225.0690157557,"ar.1":10168.41,"gam.1":36056.66,"pred":46120.84},{"timestamp":36,"ar":10125.3391446623,"gam":45578.1414766855,"ar.1":10125.34,"gam.1":35452.8,"pred":45064.73},{"timestamp":37,"ar":10073.7986846431,"gam":45721.428713416,"ar.1":10073.8,"gam.1":35647.63,"pred":46187.08},{"timestamp":38,"ar":9888.81915901241,"gam":44796.4015066969,"ar.1":9888.82,"gam.1":34907.58,"pred":44921.82},{"timestamp":39,"ar":9201.48289280245,"gam":41374.0207048153,"ar.1":9201.48,"gam.1":32172.54,"pred":41830.45},{"timestamp":40,"ar":9361.58294793131,"gam":40361.6450873413,"ar.1":9361.58,"gam.1":31000.06,"pred":39358.83},{"timestamp":41,"ar":8214.81933903245,"gam":42122.6373118776,"ar.1":8214.82,"gam.1":33907.82,"pred":42012.13},{"timestamp":42,"ar":8573.04952544193,"gam":44475.397447849,"ar.1":8573.05,"gam.1":35902.35,"pred":45282.33},{"timestamp":43,"ar":8828.55580014594,"gam":46558.0445191151,"ar.1":8828.56,"gam.1":37729.49,"pred":46320.33},{"timestamp":44,"ar":8673.90525163584,"gam":46561.9514759206,"ar.1":8673.91,"gam.1":37888.05,"pred":46301.85},{"timestamp":45,"ar":8861.14929286134,"gam":48312.441693451,"ar.1":8861.15,"gam.1":39451.29,"pred":47385.14},{"timestamp":46,"ar":8605.82478431383,"gam":48713.5924183472,"ar.1":8605.82,"gam.1":40107.77,"pred":48594.8},{"timestamp":47,"ar":9007.42727230481,"gam":50989.4743154026,"ar.1":9007.43,"gam.1":41982.05,"pred":51248.42},{"timestamp":48,"ar":8676.92009338111,"gam":50142.6991464844,"ar.1":8676.92,"gam.1":41465.78,"pred":50400.65},{"timestamp":49,"ar":8841.85026696125,"gam":51254.2814109298,"ar.1":8841.85,"gam.1":42412.43,"pred":50421.51},{"timestamp":50,"ar":9382.57975971919,"gam":53876.4200181942,"ar.1":9382.58,"gam.1":44493.84,"pred":53913.15},{"timestamp":51,"ar":10100.3913781954,"gam":57309.7111450858,"ar.1":10100.39,"gam.1":47209.32,"pred":58561.7},{"timestamp":52,"ar":9726.92390077685,"gam":56311.9900286687,"ar.1":9726.92,"gam.1":46585.07,"pred":57209.51},{"timestamp":53,"ar":9660.11037946901,"gam":57024.7724953691,"ar.1":9660.11,"gam.1":47364.66,"pred":56486.93},{"timestamp":54,"ar":9759.76768796111,"gam":59798.7701284933,"ar.1":9759.77,"gam.1":50039,"pred":61190.43},{"timestamp":55,"ar":10961.9542180289,"gam":65988.8859468848,"ar.1":10961.95,"gam.1":55026.93,"pred":68783.99},{"timestamp":56,"ar":12064.992031165,"gam":67041.4441193919,"ar.1":12064.99,"gam.1":54976.45,"pred":67975.95},{"timestamp":57,"ar":11716.2887045243,"gam":70897.0275035413,"ar.1":11716.29,"gam.1":59180.74,"pred":72000.59},{"timestamp":58,"ar":10094.0504432369,"gam":67794.3993506775,"ar.1":10094.05,"gam.1":57700.35,"pred":68390.71},{"timestamp":59,"ar":9454.36228882297,"gam":65504.925250788,"ar.1":9454.36,"gam.1":56050.56,"pred":62883.58},{"timestamp":60,"ar":7792.74462084897,"gam":65926.1895358634,"ar.1":7792.74,"gam.1":58133.44,"pred":68245.95},{"timestamp":61,"ar":10031.5777903284,"gam":75414.572017324,"ar.1":10031.58,"gam.1":65382.99,"pred":79906.27},{"timestamp":62,"ar":10259.1399711345,"gam":72357.4210775503,"ar.1":10259.14,"gam.1":62098.28,"pred":72609.66},{"timestamp":63,"ar":9788.04337547476,"gam":69133.5437142693,"ar.1":9788.04,"gam.1":59345.5,"pred":68402.6},{"timestamp":64,"ar":9999.83854811162,"gam":69446.7645108991,"ar.1":9999.84,"gam.1":59446.93,"pred":70140.55},{"timestamp":65,"ar":9809.04613891912,"gam":68287.2369228243,"ar.1":9809.05,"gam.1":58478.19,"pred":70318.91},{"timestamp":66,"ar":9588.54892298932,"gam":68878.0355339365,"ar.1":9588.55,"gam.1":59289.49,"pred":70319.22},{"timestamp":67,"ar":9452.48397426389,"gam":67452.192747512,"ar.1":9452.48,"gam.1":57999.71,"pred":67456.36},{"timestamp":68,"ar":9026.30799836364,"gam":64054.4300400218,"ar.1":9026.31,"gam.1":55028.12,"pred":61902.4},{"timestamp":69,"ar":9292.06150431408,"gam":62257.4448743803,"ar.1":9292.06,"gam.1":52965.38,"pred":62511.8},{"timestamp":70,"ar":8834.59762049495,"gam":58870.9934903475,"ar.1":8834.6,"gam.1":50036.4,"pred":58420.39},{"timestamp":71,"ar":8606.25019517986,"gam":57322.5936378581,"ar.1":8606.25,"gam.1":48716.34,"pred":54366.62},{"timestamp":72,"ar":6795.85978648915,"gam":56944.5650132077,"ar.1":6795.86,"gam.1":50148.71,"pred":57115.96},{"timestamp":73,"ar":6379.56637345764,"gam":54555.1415820379,"ar.1":6379.57,"gam.1":48175.58,"pred":53645.89},{"timestamp":74,"ar":6229.70124141629,"gam":51482.2083277229,"ar.1":6229.7,"gam.1":45252.51,"pred":50329.36},{"timestamp":75,"ar":6571.76045585286,"gam":50066.3682619963,"ar.1":6571.76,"gam.1":43494.61,"pred":47804.97},{"timestamp":76,"ar":6446.97286200502,"gam":49258.2514708494,"ar.1":6446.97,"gam.1":42811.28,"pred":47312.03},{"timestamp":77,"ar":7041.49052254811,"gam":48346.4883753739,"ar.1":7041.49,"gam.1":41305,"pred":47035.83},{"timestamp":78,"ar":6428.5923659396,"gam":46060.1428918006,"ar.1":6428.59,"gam.1":39631.55,"pred":44811.68},{"timestamp":79,"ar":7074.74493225642,"gam":45596.8917243175,"ar.1":7074.74,"gam.1":38522.15,"pred":45490.3},{"timestamp":80,"ar":7205.57287471186,"gam":44807.8190783251,"ar.1":7205.57,"gam.1":37602.25,"pred":42435.47},{"timestamp":81,"ar":7803.17843390067,"gam":45136.7581517244,"ar.1":7803.18,"gam.1":37333.58,"pred":44180.6},{"timestamp":82,"ar":8887.22736567694,"gam":45523.6094202617,"ar.1":8887.23,"gam.1":36636.38,"pred":43184.78},{"timestamp":83,"ar":8535.42820280781,"gam":45681.9808944115,"ar.1":8535.43,"gam.1":37146.55,"pred":44724.32},{"timestamp":84,"ar":8853.89884436997,"gam":46004.809818614,"ar.1":8853.9,"gam.1":37150.91,"pred":44666.82},{"timestamp":85,"ar":8993.79681382759,"gam":46456.5720867582,"ar.1":8993.8,"gam.1":37462.78,"pred":44979.3},{"timestamp":86,"ar":9391.36084546772,"gam":47382.12877345,"ar.1":9391.36,"gam.1":37990.77,"pred":46955.47},{"timestamp":87,"ar":9562.65458174556,"gam":46320.0606625456,"ar.1":9562.65,"gam.1":36757.41,"pred":45372.94},{"timestamp":88,"ar":9442.94613625454,"gam":45702.4952090755,"ar.1":9442.95,"gam.1":36259.55,"pred":43210.93},{"timestamp":89,"ar":8764.21352560377,"gam":45792.2940366415,"ar.1":8764.21,"gam.1":37028.08,"pred":44851.38},{"timestamp":90,"ar":8977.15245309997,"gam":44174.9472309843,"ar.1":8977.15,"gam.1":35197.79,"pred":43137.48},{"timestamp":91,"ar":8284.21673579611,"gam":41750.0130179793,"ar.1":8284.22,"gam.1":33465.8,"pred":40662.64},{"timestamp":92,"ar":7844.70672030138,"gam":41299.9234434067,"ar.1":7844.71,"gam.1":33455.22,"pred":40260.16},{"timestamp":93,"ar":7128.44393918421,"gam":43125.8671227638,"ar.1":7128.44,"gam.1":35997.42,"pred":42583.03},{"timestamp":94,"ar":7364.60268159744,"gam":44696.9727862703,"ar.1":7364.6,"gam.1":37332.37,"pred":44134.04},{"timestamp":95,"ar":7516.45409536887,"gam":44978.9125789708,"ar.1":7516.45,"gam.1":37462.46,"pred":45185.23},{"timestamp":96,"ar":7832.85673348726,"gam":46267.7244682869,"ar.1":7832.86,"gam.1":38434.87,"pred":45276.39},{"timestamp":97,"ar":7910.24399307495,"gam":46617.9678756275,"ar.1":7910.24,"gam.1":38707.72,"pred":45464.56},{"timestamp":98,"ar":7759.8871444146,"gam":46575.6200798986,"ar.1":7759.89,"gam.1":38815.73,"pred":45342.6},{"timestamp":99,"ar":8098.35862292584,"gam":47782.7652734624,"ar.1":8098.36,"gam.1":39684.41,"pred":45945.7},{"timestamp":100,"ar":7976.04878075744,"gam":47706.0055502486,"ar.1":7976.05,"gam.1":39729.96,"pred":46608.04},{"timestamp":101,"ar":9204.92667262135,"gam":54059.1570223176,"ar.1":9204.93,"gam.1":44854.23,"pred":52145.04},{"timestamp":102,"ar":8963.77644127917,"gam":53825.7323562995,"ar.1":8963.78,"gam.1":44861.96,"pred":54145.41},{"timestamp":103,"ar":9006.27674359004,"gam":53332.2224642144,"ar.1":9006.28,"gam.1":44325.95,"pred":51853.66},{"timestamp":104,"ar":9441.22116607176,"gam":56983.4063095867,"ar.1":9441.22,"gam.1":47542.19,"pred":56889},{"timestamp":105,"ar":9541.65917814624,"gam":56788.1138261769,"ar.1":9541.66,"gam.1":47246.45,"pred":57353.76},{"timestamp":106,"ar":9321.30582374597,"gam":55585.4202390229,"ar.1":9321.31,"gam.1":46264.11,"pred":54986.99},{"timestamp":107,"ar":9801.06090321101,"gam":57404.8867418763,"ar.1":9801.06,"gam.1":47603.83,"pred":58254.42},{"timestamp":108,"ar":10715.4534572198,"gam":61739.9263687097,"ar.1":10715.45,"gam.1":51024.47,"pred":63568.79},{"timestamp":109,"ar":11214.8267412394,"gam":64723.7715583555,"ar.1":11214.83,"gam.1":53508.94,"pred":63977.13},{"timestamp":110,"ar":13421.9509461501,"gam":72744.2541996979,"ar.1":13421.95,"gam.1":59322.3,"pred":78046.85},{"timestamp":111,"ar":13037.6012394613,"gam":67911.2047833026,"ar.1":13037.6,"gam.1":54873.6,"pred":66654.69},{"timestamp":112,"ar":12425.9888753116,"gam":60676.2780115279,"ar.1":12425.99,"gam.1":48250.29,"pred":60839.71}],"graphs":[{"animationPlayed":false,"id":"ar","valueAxis":"timestamp","lineColor":"#ABDDA4","fillToAxis":true,"fillColors":"#ABDDA4","fillAlphas":0.75,"balloonFunction":"function(item, graph) {\n                              var result = graph.balloonText;\n                              for (var key in item.dataContext) {\n                                if (item.dataContext.hasOwnProperty(key) && !isNaN(item.dataContext[key])) {\n                                  var formatted = AmCharts.formatNumber(item.dataContext[key], {\n                                    precision: 2,\n                                    decimalSeparator: \".\",\n                                    thousandsSeparator: \" \"\n                                  }, 2);\n                                  result = result.replace(\"[[\" + key + \"]]\", formatted);\n                                }\n                              }\n                              return result;\n                            }","balloonText":"<b>ar : <\/b>[[ar.1]]","title":"ar","type":"line","valueField":"ar"},{"animationPlayed":false,"id":"gam","valueAxis":"timestamp","lineColor":"#2B83BA","fillToGraph":"ar","fillColors":"#2B83BA","fillAlphas":0.75,"balloonFunction":"function(item, graph) {\n                              var result = graph.balloonText;\n                              for (var key in item.dataContext) {\n                                if (item.dataContext.hasOwnProperty(key) && !isNaN(item.dataContext[key])) {\n                                  var formatted = AmCharts.formatNumber(item.dataContext[key], {\n                                    precision: 2,\n                                    decimalSeparator: \".\",\n                                    thousandsSeparator: \" \"\n                                  }, 2);\n                                  result = result.replace(\"[[\" + key + \"]]\", formatted);\n                                }\n                              }\n                              return result;\n                            }","balloonText":"<b>gam : <\/b>[[gam.1]]","title":"gam","type":"line","valueField":"gam"},{"animationPlayed":false,"id":"pred","valueAxis":"timestamp","dashLength":5,"lineThickness":2,"lineColor":"black","balloonFunction":"function(item, graph) {\n                              var result = graph.balloonText;\n                              for (var key in item.dataContext) {\n                                if (item.dataContext.hasOwnProperty(key) && !isNaN(item.dataContext[key])) {\n                                  var formatted = AmCharts.formatNumber(item.dataContext[key], {\n                                    precision: 2,\n                                    decimalSeparator: \".\",\n                                    thousandsSeparator: \" \"\n                                  }, 2);\n                                  result = result.replace(\"[[\" + key + \"]]\", formatted);\n                                }\n                              }\n                              return result;\n                            }","balloonText":"<b> Prediction : <\/b>[[pred]]","title":"Prediction","type":"line","valueField":"pred"}],"legend":{"valueText":"","position":"right","reversedOrder":true,"useGraphSettings":false},"titles":[{"text":"Contribution of each expert to the prediction"}],"type":"serial","valueAxes":[{"maximum":79906.27,"useScientificNotation":true}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":["chartData.graphs.0.balloonFunction","chartData.graphs.1.balloonFunction","chartData.graphs.2.balloonFunction"],"jsHooks":[]}</script><span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Using d-dimensional time-series</span></span>
<span class="r-in"><span class="co">##################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Consider the above exemple of electricity consumption </span></span>
<span class="r-in"><span class="co">#  to be predicted every four weeks</span></span>
<span class="r-in"><span class="va">YBlock</span> <span class="op">&lt;-</span> <span class="fu"><a href="seriesToBlock.html">seriesToBlock</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">Y</span>, d <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"><span class="va">XBlock</span> <span class="op">&lt;-</span> <span class="fu"><a href="seriesToBlock.html">seriesToBlock</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, d <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The four-week-by-four-week predictions can then be obtained </span></span>
<span class="r-in"><span class="co"># by directly using the `mixture` function as we did earlier. </span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">MLpolBlock</span> <span class="op">&lt;-</span> <span class="fu"><a href="mixture-opera.html">mixture</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">YBlock</span>, experts <span class="op">=</span> <span class="va">XBlock</span>, model <span class="op">=</span> <span class="st">"MLpol"</span>, loss.type <span class="op">=</span> <span class="st">"square"</span>, </span>
<span class="r-in">                      quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The predictions can finally be transformed back to a </span></span>
<span class="r-in"><span class="co"># regular one dimensional time-series by using the function `blockToSeries`.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">prediction</span> <span class="op">&lt;-</span> <span class="fu"><a href="seriesToBlock.html">blockToSeries</a></span><span class="op">(</span><span class="va">MLpolBlock</span><span class="op">$</span><span class="va">prediction</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#### Using the `online = FALSE` option</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Equivalent solution is to use the `online = FALSE` option in the predict function. </span></span>
<span class="r-in"><span class="co"># The latter ensures that the model coefficients are not </span></span>
<span class="r-in"><span class="co"># updated between the next four weeks to forecast.</span></span>
<span class="r-in"><span class="va">MLpolBlock</span> <span class="op">&lt;-</span> <span class="fu"><a href="mixture-opera.html">mixture</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"BOA"</span>, loss.type <span class="op">=</span> <span class="st">"square"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">d</span> <span class="op">=</span> <span class="fl">4</span></span>
<span class="r-in"><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span><span class="op">/</span><span class="va">d</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">0</span><span class="op">:</span><span class="op">(</span><span class="va">n</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> </span>
<span class="r-in">  <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fl">4</span><span class="op">*</span><span class="va">i</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="co"># next four weeks to be predicted</span></span>
<span class="r-in">  <span class="va">MLpolBlock</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">MLpolBlock</span>, newexperts <span class="op">=</span> <span class="va">X</span><span class="op">[</span><span class="va">idx</span>, <span class="op">]</span>, newY <span class="op">=</span> <span class="va">Y</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span>, online <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span class="r-in">                        quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">MLpolBlock</span><span class="op">$</span><span class="va">weights</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.5000000 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.5000000 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.5000000 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.5000000 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.5243539 0.4756461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.5243539 0.4756461</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Pierre Gaillard.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

